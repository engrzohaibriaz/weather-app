<div class="container">
  <h1>Todo List</h1>

  <!-- Add form (title + isCompleted) -->
  <form class="add-todo" (ngSubmit)="addTodo()" #todoForm="ngForm">
    <input
      type="text"
      name="title"
      [(ngModel)]="newTodoTitle"
      placeholder="Enter todo title..."
      required
    />

    <label>
      <input
        type="checkbox"
        name="isCompleted"
        [(ngModel)]="newTodoCompleted"
      />
      Completed
    </label>

    <button type="submit" [disabled]="!todoForm.form.valid">Add</button>
  </form>

  <!-- Error message -->
  <p *ngIf="error" class="error">{{ error }}</p>

  <!-- Todo table -->
  <table *ngIf="todos.length > 0">
    <thead>
      <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let todo of todos">
        <td>{{ todo.id }}</td>
        <td [class.completed]="todo.isCompleted">{{ todo.title }}</td>
        <td>
          <input
            type="checkbox"
            [checked]="todo.isCompleted"
            (change)="toggleTodo(todo)"
          />
        </td>
        <td>
          <button class="delete-btn" (click)="deleteTodo(todo.id)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Empty state -->
  <p *ngIf="!todos.length">No todos yet. Add one above!</p>
</div>
